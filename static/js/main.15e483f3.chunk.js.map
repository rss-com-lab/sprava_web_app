{"version":3,"sources":["constants/constants.js","reducers/initialState.js","actions/filter.js","actions/apiFetch.js","reducers/index.js","components/checkbox/checkbox.js","api/saveEvents.js","api/replaceAll.js","components/event/event.js","components/loading/loading.js","components/requestFailed/requestFailed.js","app-config/app-config.js","components/eventList/eventList.js","containers/visibleEventList.js","components/btn/btn.js","containers/filterBtn.js","components/controlBtns/controlBtns.js","components/app/App.js","api/firebase.js","index.js"],"names":["VisibilityFilters","ITEMS_STATUS_PARAMS","ACTION_TYPES","FETCH_DATA_INITIAL_STATE","payload","itemsStatus","items","VISIBILITY_FILTER_INITIAL_STATE","filter","setVisibilityFilter","type","reducer","state","arguments","length","undefined","action","Object","objectSpread","itemsStatusData","dataSuccess","URL_TO_FETCH_SPRAVA_DATA","concat","combineReducers","visibilityFilter","Checkbox","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","toggleCheckboxChange","event","handleCheckboxChange","setState","_ref","isChecked","isSaved","bind","assertThisInitialized","_this$props","label","id","react_default","a","createElement","className","htmlFor","value","checked","onChange","React","Component","addEvent","checkedEventsList","document","querySelectorAll","idArray","i","push","localStorage","setItem","FIREBASE_MESSAGING","firebase","messaging","FIREBASE_DATABASE","database","getItem","getToken","then","token","ref","orderByChild","equalTo","once","snapshot","key","keys","val","child","set","childSnapshot","parentSnapshot","eventIdArray","catch","err","console","error","replaceAll","string","search","replace","split","join","Event","img","title","schedule","link","isEventSave","Parser","src","alt","map","eventParam","uniqid","point","timeStart","timeEnd","href","target","components_checkbox_checkbox","saveEvents","Loading","RequestField","FESTIVAL_DAYS","FIRST_DAY","SECOUND_DAY","EventList","fetchData","events","fetchStatus","requestFailed_requestFailed","loading_loading","style","e","date","display","eventNumber","components_event_event","Boolean","getVisibleEvents","musicAPI","localIdArray","currentEventListExperiment","entries","constructor","forEach","day","item","customItem","eventId","find","Error","connect","dispatch","url","ITEMS_HAS_ERRORED","ITEMS_FETCH_DATA_SUCCESS","window","fetch","cache","response","ok","status","statusText","json","requestPermission","log","update","Btn","active","onClick","children","disabled","ownProps","ControlBtns","filterBtn","App","controlBtns_controlBtns","visibleEventList","firebaseInit","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","rootReducer","applyMiddleware","thunk","ReactDOM","render","react_redux_es","components_app_App","getElementById"],"mappings":"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","file":"static/js/main.15e483f3.chunk.js","sourcesContent":["export const SPRAVA_API_MAIN_URL = 'http://spravafestival.by/api';\n\nexport const CORS_URL = 'https://cors-anywhere.herokuapp.com';\n\nexport const SPRAVA_API_URL = {\n  music: 'music',\n  perfomance: 'performances',\n  actions: 'actions',\n  questions: 'questions',\n  partners: 'partners',\n  infopartners: 'infopartners',\n};\n\nexport const VisibilityFilters = {\n  SHOW_ALL: 'SHOW_ALL',\n  SHOW_SAVED: 'SHOW_SAVED',\n};\n\nexport const ITEMS_STATUS_PARAMS = {\n  ITEMS_HAS_ERRORED: 'ITEMS_HAS_ERRORED',\n  ITEMS_IS_LOADING: 'ITEMS_IS_LOADING',\n  ITEMS_FETCH_DATA_SUCCESS: 'ITEMS_FETCH_DATA_SUCCESS',\n};\n\nexport const ACTION_TYPES = {\n  SET_VISIBILITY_FILTER: 'SET_VISIBILITY_FILTER',\n  SET_ITEMS_STATUS: 'SET_ITEMS_STATUS',\n};\n","import { VisibilityFilters, ITEMS_STATUS_PARAMS } from '../constants/constants';\n\nexport const FETCH_DATA_INITIAL_STATE = {\n  payload: {\n    itemsStatus: ITEMS_STATUS_PARAMS.ITEMS_IS_LOADING,\n    items: {},\n  },\n};\n\nexport const VISIBILITY_FILTER_INITIAL_STATE = {\n  payload: {\n    filter: VisibilityFilters.SHOW_ALL,\n  },\n};\n","import { VISIBILITY_FILTER_INITIAL_STATE } from '../reducers/initialState';\nimport { ACTION_TYPES } from '../constants/constants';\n\nexport const setVisibilityFilter = filter => ({\n  type: ACTION_TYPES.SET_VISIBILITY_FILTER,\n  payload: {\n    filter,\n  },\n});\n\nexport const reducer = (state =\nVISIBILITY_FILTER_INITIAL_STATE, action) => {\n  switch (action.type) {\n    case ACTION_TYPES.SET_VISIBILITY_FILTER:\n      return {\n        ...state,\n        payload: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import firebase from 'firebase/app';\nimport 'firebase/database';\n\nimport {\n  ACTION_TYPES, ITEMS_STATUS_PARAMS,\n  SPRAVA_API_MAIN_URL, CORS_URL, SPRAVA_API_URL,\n} from '../constants/constants';\nimport { FETCH_DATA_INITIAL_STATE } from '../reducers/initialState';\n\nexport const itemsStatus = (itemsStatusData, dataSuccess = {}) => ({\n  type: ACTION_TYPES.SET_ITEMS_STATUS,\n  payload: {\n    itemsStatus: itemsStatusData,\n    items: dataSuccess,\n  },\n});\n\nconst URL_TO_FETCH_SPRAVA_DATA = `${CORS_URL}/${SPRAVA_API_MAIN_URL}/${SPRAVA_API_URL.music}`;\n\nexport const itemsFetchData = () => (dispatch) => {\n  const {\n    ITEMS_HAS_ERRORED,\n    ITEMS_IS_LOADING,\n    ITEMS_FETCH_DATA_SUCCESS,\n  } = ITEMS_STATUS_PARAMS;\n  dispatch(itemsStatus(ITEMS_IS_LOADING));\n\n  window.fetch(URL_TO_FETCH_SPRAVA_DATA, { cache: 'force-cache' })\n    .then((response) => {\n      if (!response.ok) {\n        console.error(`Oops, something went wrong with response. Error in fetch, response status: ${response.status}`);\n        throw Error(response.statusText);\n      }\n      return response;\n    })\n    .then(response => response.json())\n    .then((items) => {\n      const FIREBASE_MESSAGING = firebase.messaging();\n      const FIREBASE_DATABASE = firebase.database();\n      FIREBASE_MESSAGING.requestPermission()\n        .then(() => {\n          console.log('Permission granted');\n          FIREBASE_DATABASE.ref('/data').update({ ...items });\n        })\n        .catch(err => console.error(err));\n      dispatch(itemsStatus(ITEMS_FETCH_DATA_SUCCESS, items));\n    })\n    .catch(() => {\n      dispatch(itemsStatus(ITEMS_HAS_ERRORED));\n    });\n};\n\nconst reducer = (state = FETCH_DATA_INITIAL_STATE, action) => {\n  switch (action.type) {\n    case ACTION_TYPES.SET_ITEMS_STATUS:\n      return {\n        ...state,\n        payload: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\n\nexport default reducer;\n","import { combineReducers } from 'redux';\nimport visibilityFilter from '../actions/filter';\nimport itemsStatus from '../actions/apiFetch';\n\nexport default combineReducers({\n  visibilityFilter,\n  itemsStatus,\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './checkbox.scss';\n\nclass Checkbox extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isChecked: props.isSaved,\n    };\n    this.toggleCheckboxChange.bind(this);\n  }\n\n  toggleCheckboxChange = (event) => {\n    const { handleCheckboxChange } = this.props;\n\n    this.setState(({ isChecked }) => (\n      {\n        isChecked: !isChecked,\n      }\n    ));\n\n    handleCheckboxChange(event);\n  }\n\n  render() {\n    const { label, id } = this.props;\n    const { isChecked } = this.state;\n    return (\n      <div className=\"checkbox__container\">\n        <label htmlFor={id} className=\"label__control option\">\n          <input\n            type=\"checkbox\"\n            className=\"check__input\"\n            value={label}\n            checked={isChecked}\n            onChange={this.toggleCheckboxChange}\n            id={id}\n          />\n          <span className=\"check__box\" id=\"check__box\" />\n        </label>\n      </div>\n    );\n  }\n}\n\nCheckbox.propTypes = {\n  id: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  handleCheckboxChange: PropTypes.func.isRequired,\n  isSaved: PropTypes.bool.isRequired,\n};\n\nexport default Checkbox;\n","import firebase from 'firebase/app';\nimport 'firebase/messaging';\nimport 'firebase/database';\n\nexport default function addEvent() {\n  const checkedEventsList = document.querySelectorAll('input[type=checkbox]:checked');\n  const idArray = [];\n\n  for (let i = 0; i < checkedEventsList.length; i += 1) {\n    idArray.push(checkedEventsList[i].id);\n  }\n  localStorage.setItem('checkedEventList', idArray);\n\n  const FIREBASE_MESSAGING = firebase.messaging();\n  const FIREBASE_DATABASE = firebase.database();\n  const requestIndicator = localStorage.getItem('requestIndicator');\n\n  // subscribe user\n  if (!requestIndicator) {\n    FIREBASE_MESSAGING.getToken()\n      .then((token) => {\n        FIREBASE_DATABASE.ref('/tokens').orderByChild('token').equalTo(token)\n          .once('value')\n          .then((childSnapshot) => {\n            FIREBASE_DATABASE.ref('/tokens').once('value')\n              .then((parentSnapshot) => {\n                // don't subscribe user twice\n                if (!childSnapshot.val() || !parentSnapshot.val()) {\n                  FIREBASE_DATABASE.ref('/tokens').push({ token, eventIdArray: idArray });\n                }\n              });\n          });\n      })\n      .catch(err => console.error(err));\n    localStorage.setItem('requestIndicator', 'asked');\n  } else {\n    FIREBASE_MESSAGING.getToken()\n      .then(token => FIREBASE_DATABASE.ref('/tokens').orderByChild('token').equalTo(token)\n        .once('value'))\n      .then((snapshot) => {\n        const key = Object.keys(snapshot.val())[0]; // get key of token parent\n        return FIREBASE_DATABASE.ref('/tokens').child(key).child('eventIdArray').set([...idArray]);\n      });\n  }\n}\n","export default function replaceAll(string, search, replace) {\n  return string.split(search).join(replace);\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Parser from 'html-react-parser';\nimport uniqid from 'uniqid';\n\nimport Checkbox from '../checkbox/checkbox';\nimport saveEvents from '../../api/saveEvents';\nimport replaceAll from '../../api/replaceAll';\n\n\nimport './event.scss';\n\nconst Event = ({\n  img, title, schedule, link, isEventSave, id,\n}) => (\n  <div className=\"events-section__event-container\">\n    <h4 className=\"event-data__event-header\">\n      {Parser(title)}\n    </h4>\n    <div className=\"events-section__event-data\">\n      <div className=\"events-section__event-img\">\n        <img src={`http://spravafestival.by/${img}`} alt={`${replaceAll(title, '<br/>', ' ')} preview`} />\n      </div>\n      <div className=\"events-sevtion__schedule\">\n        {Object.keys(schedule).map(eventParam => (\n          <div className=\"events-section__event-params\" key={uniqid()}>\n            <h5 className=\"events-section__event-location\">{schedule[eventParam].point}</h5>\n            <p className=\"events-section__time\">\n              {schedule[eventParam].timeStart}\n            -\n              {schedule[eventParam].timeEnd}\n            </p>\n          </div>\n        ))}\n      </div>\n    </div>\n    <div className=\"event-data__group-link-container\">\n      <a\n        href={link}\n        target=\"blank\"\n        title={replaceAll(title, '<br/>', ' ')}\n        className=\"event-data__group-link\"\n      >\n      Сайт группы\n      </a>\n    </div>\n    <div className=\"events-section__event-checkbox\">\n      <Checkbox label=\"Выбрать\" isSaved={isEventSave} id={id} handleCheckboxChange={saveEvents} />\n    </div>\n  </div>\n);\n\nEvent.propTypes = {\n  img: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  schedule: PropTypes.objectOf(PropTypes.shape({\n    point: PropTypes.string.isRequired,\n    timeStart: PropTypes.string.isRequired,\n    timeEnd: PropTypes.string.isRequired,\n  })).isRequired,\n  link: PropTypes.string.isRequired,\n  isEventSave: PropTypes.bool.isRequired,\n  id: PropTypes.string.isRequired,\n};\n\nexport default Event;\n","import React from 'react';\nimport './loading.scss';\n\nconst Loading = () => (\n  <div className=\"loading__animation-elements-container\">\n    <div className=\"loading__animation-element last-element\" />\n    <div className=\"loading__animation-element central-element\" />\n    <div className=\"loading__animation-element main-element\" />\n    <div className=\"loading__animation-element central-element\" />\n    <div className=\"loading__animation-element last-element\" />\n  </div>\n);\n\nexport default Loading;\n","import React from 'react';\nimport './requestFailed.scss';\n\nconst RequestField = () => (\n  <div className=\"request-field__container\">\n    <h2 className=\"request-field__massage\">Oooops something go wrong :(</h2>\n  </div>\n);\n\nexport default RequestField;\n","const FESTIVAL_DAYS = {\n  FIRST_DAY: '4 АВГУСТА',\n  SECOUND_DAY: '5 АВГУСТА',\n};\n\nexport default FESTIVAL_DAYS;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport uniqid from 'uniqid';\n\nimport Event from '../event/event';\nimport Loading from '../loading/loading';\nimport RequestField from '../requestFailed/requestFailed';\nimport { ITEMS_STATUS_PARAMS } from '../../constants/constants';\nimport FESTIVAL_DAYS from '../../app-config/app-config';\nimport './eventList.scss';\n\nclass EventList extends React.Component {\n  componentDidMount() {\n    const { fetchData } = this.props;\n    fetchData();\n  }\n\n  render() {\n    const {\n      events,\n      fetchStatus,\n    } = this.props;\n\n    switch (fetchStatus) {\n      case ITEMS_STATUS_PARAMS.ITEMS_HAS_ERRORED: // fetch failed\n        return <RequestField />;\n\n      case ITEMS_STATUS_PARAMS.ITEMS_IS_LOADING: // loading\n        return <Loading />;\n\n      default: // fetch success\n        return (\n          <div className=\"events-section__event-list-container\" id=\"event-list\">\n            <div\n              className=\"events-section__first-day-events\"\n              style={(Object.keys(events)\n                .filter(e => events[e].date === `${FESTIVAL_DAYS.FIRST_DAY}`).length > 0)\n                ? { display: 'block' } : { display: 'none' }}\n            >\n              <h5 className=\"events-section__day-title\">{FESTIVAL_DAYS.FIRST_DAY}</h5>\n              <div className=\"events-section__first-day-events-list\">\n                {(Object.keys(events)\n                  .filter(e => events[e].date === `${FESTIVAL_DAYS.FIRST_DAY}`))\n                  .map(eventNumber => (\n                    <Event\n                      key={uniqid()}\n                      img={events[eventNumber].img}\n                      title={events[eventNumber].title}\n                      schedule={events[eventNumber].schedule}\n                      link={events[eventNumber].link}\n                      id={events[eventNumber].id}\n                      isEventSave={Boolean(events[eventNumber].checked)}\n                    />\n                  ))}\n              </div>\n            </div>\n            <div\n              className=\"events-section__secound-day-events\"\n              style={(Object.keys(events)\n                .filter(e => events[e].date === `${FESTIVAL_DAYS.SECOUND_DAY}`).length > 0)\n                ? { display: 'block' } : { display: 'none' }}\n            >\n              <h5 className=\"events-section__day-title\">{FESTIVAL_DAYS.SECOUND_DAY}</h5>\n              <div className=\"events-section__secound-day-events-list\">\n                {(Object.keys(events)\n                  .filter(e => events[e].date === `${FESTIVAL_DAYS.SECOUND_DAY}`))\n                  .map(eventNumber => (\n                    <Event\n                      key={uniqid()}\n                      img={events[eventNumber].img}\n                      title={events[eventNumber].title}\n                      schedule={events[eventNumber].schedule}\n                      link={events[eventNumber].link}\n                      id={events[eventNumber].id}\n                      isEventSave={Boolean(events[eventNumber].checked)}\n                    />\n                  ))}\n              </div>\n            </div>\n          </div>\n        );\n    }\n  }\n}\n\nEventList.propTypes = {\n  fetchData: PropTypes.func.isRequired,\n  fetchStatus: PropTypes.string.isRequired,\n  events: PropTypes.arrayOf(PropTypes.shape({\n    img: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    schedule: PropTypes.objectOf(PropTypes.shape({\n      point: PropTypes.string.isRequired,\n      timeStart: PropTypes.string.isRequired,\n      timeEnd: PropTypes.string.isRequired,\n    })).isRequired,\n    link: PropTypes.string.isRequired,\n  }).isRequired).isRequired,\n};\n\nexport default EventList;\n","import { connect } from 'react-redux';\nimport EventList from '../components/eventList/eventList';\nimport { setVisibilityFilter } from '../actions/filter';\nimport { itemsFetchData } from '../actions/apiFetch';\nimport { VisibilityFilters } from '../constants/constants';\n\nconst getVisibleEvents = (filter, items) => {\n  let musicAPI;\n  const localIdArray = (localStorage.getItem('checkedEventList'))\n    ? localStorage.getItem('checkedEventList').split(',')\n    : [];\n  const currentEventListExperiment = [];\n\n  if (!(Object.entries(items).length === 0 && items.constructor === Object)) {\n    musicAPI = { ...items };\n    Object.keys(musicAPI).forEach((day) => { // if haven't saved upload clean list\n      Object.keys(musicAPI[day].items).forEach((item) => {\n        const customItem = { ...musicAPI[day].items[item] };\n        customItem.date = musicAPI[day].date;\n        customItem.id = `${item}/date-${(customItem.date).split('')[0]}`;\n        customItem.checked = false;\n        currentEventListExperiment.push(customItem);\n      });\n    });\n    if (localIdArray.length > 0\n      && currentEventListExperiment.length > 0) { // to checked saved events but to initial state\n      localIdArray.forEach((eventId) => {\n        const currentEvent = currentEventListExperiment // deep copy !!!\n          .find(event => event.id === eventId);\n        currentEvent.checked = true;\n      });\n    }\n  }\n\n  switch (filter) {\n    case VisibilityFilters.SHOW_ALL:\n    {\n      return currentEventListExperiment;\n    }\n    case VisibilityFilters.SHOW_SAVED:\n    {\n      return currentEventListExperiment.filter(event => event.checked === true);\n    }\n    default:\n      throw new Error(`Unknown filter: ${filter}`);\n  }\n};\n\nconst mapStateToProps = state => ({\n  events: getVisibleEvents(state.visibilityFilter.payload.filter,\n    state.itemsStatus.payload.items),\n  items: state.itemsStatus.payload.items,\n  fetchStatus: state.itemsStatus.payload.itemsStatus,\n});\n\n\nconst mapDispatchToProps = dispatch => ({\n  setVisibilityFilter: filter => dispatch(setVisibilityFilter(filter)),\n  fetchData: url => dispatch(itemsFetchData(url)),\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(EventList);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './btn.scss';\n\nconst Btn = ({\n  active, onClick, children, className,\n}) => (\n  <button\n    type=\"button\"\n    onClick={onClick}\n    disabled={active}\n    className={className}\n  >\n    {children}\n  </button>\n);\n\nBtn.propTypes = {\n  active: PropTypes.bool.isRequired,\n  children: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  className: PropTypes.string.isRequired,\n};\n\nexport default Btn;\n","import { connect } from 'react-redux';\nimport { setVisibilityFilter } from '../actions/filter';\nimport Btn from '../components/btn/btn';\n\nconst mapStateToProps = (state, ownProps) => ({\n  active: ownProps.filter === state.visibilityFilter.payload.filter,\n  className: 'controlBtns__switcher-btn',\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  onClick: () => dispatch(setVisibilityFilter(ownProps.filter)),\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(Btn);\n","import React from 'react';\nimport FilterBtns from '../../containers/filterBtn';\nimport { VisibilityFilters } from '../../constants/constants';\nimport './controlBtns.scss';\n\nconst ControlBtns = () => (\n  <div className=\"event-section__controlBtns\">\n    <FilterBtns filter={VisibilityFilters.SHOW_ALL}>All</FilterBtns>\n    <FilterBtns filter={VisibilityFilters.SHOW_SAVED}>Saved</FilterBtns>\n    <div className=\"controlBtns__notification on\" id=\"notify-indicator\" />\n  </div>\n);\n\nexport default ControlBtns;\n","import React from 'react';\nimport VisibleEventsList from '../../containers/visibleEventList';\nimport ControlBtns from '../controlBtns/controlBtns';\nimport './App.scss';\n\nconst App = () => (\n  <div className=\"App\">\n    <ControlBtns />\n    <VisibleEventsList />\n  </div>\n);\n\nexport default App;\n","import firebase from 'firebase/app';\nimport 'firebase/messaging';\nimport 'firebase/database';\n\nfunction firebaseInit() {\n  const firebaseConfig = {\n    apiKey: 'AIzaSyAQvKgaueZ0_jurnxP4pC-1LoGM8CdwQRM',\n    authDomain: 'sprava-app-78962.firebaseapp.com',\n    databaseURL: 'https://sprava-app-78962.firebaseio.com',\n    projectId: 'sprava-app-78962',\n    storageBucket: 'sprava-app-78962.appspot.com',\n    messagingSenderId: '1056885498492',\n    appId: '1:1056885498492:web:92940cc924ea5e0f',\n  };\n  // Initialize Firebase\n  firebase.initializeApp(firebaseConfig);\n}\n\nexport default firebaseInit;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport thunk from 'redux-thunk';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport { Provider } from 'react-redux';\nimport rootReducer from './reducers/index';\nimport App from './components/app/App';\n\n// firebase scripts\nimport firebaseInit from './api/firebase';\n\nimport './styleReset.css';\nimport './index.css';\n\n// eslint-disable-next-line no-underscore-dangle\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n\nfirebaseInit();\n"],"sourceRoot":""}